# QRコード長文転送システム

## プロジェクト概要
QRコードを使用してネットワーク接続なしに長文テキストを転送するWebアプリケーション。完全にクライアントサイドで動作し、サーバー不要。GitHub Pagesで公開可能。

## 技術スタック
- 純粋なHTML/CSS/JavaScript（フレームワーク不使用）
- 外部ライブラリはCDN経由で読み込み
  - qrcode.js：QRコード生成
  - jsQR：QRコード読み取り
  - js-sha256：ハッシュ計算
  - crc-32：CRC計算

## プロジェクト構成
```
qrstreamer/
├── index.html        # トップページ（送信・受信の選択）
├── sender.html       # 送信側アプリ（PC向け）
├── receiver.html     # 受信側アプリ（スマートフォン向け）
├── js/              # JavaScriptファイル
│   ├── sender.js    # 送信側ロジック
│   ├── receiver.js  # 受信側ロジック
│   └── common.js    # 共通処理
├── css/             # スタイルシート
│   └── style.css    # 共通スタイル
└── CLAUDE.md        # このファイル
```

## 実装方針
- HTML/CSS/JSを適切に分離
- GitHub Pagesでの公開を前提とした構成
- エラーハンドリングは最小限（個人利用想定）
- 可読性とメイン処理の理解しやすさを重視

## QRコードフォーマット
### ヘッダーQRコード
```
HDR|v1|total:20|size:5234|hash:a1b2c3d4e5f6|enc:UTF8
```

### データQRコード
```
DAT|seq:1|data:実際のデータ|crc:12345678
```

## 送信側の主要処理
1. テキストをUTF-8エンコード
2. 適切なサイズに分割
3. ヘッダーとデータQRコードを生成
4. 設定された間隔で順次表示（無限ループ）

## 受信側の主要処理
1. カメラでQRコード連続スキャン
2. ヘッダー情報から総フレーム数を把握
3. 受信済みフレームを管理
4. 全フレーム受信後にデータ復元・検証

## 開発時の注意
- getUserMediaはHTTPS環境が必要（ローカル開発時は`file://`でも可）
- モバイルブラウザでのカメラ権限に注意
- QRコード表示サイズは画面に合わせて調整